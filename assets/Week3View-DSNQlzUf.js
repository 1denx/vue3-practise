import{r as p,h as C,c as n,a as t,F as u,d as _,w as v,b,t as o,v as q,k as x,o as a,e as D}from"./index-Dts7SlC8.js";const V={id:"root"},T={class:"mt-5 px-10"},$={class:"grid grid-rows-1 grid-cols-4 gap-6 mb-10"},B={class:"grid-col-span-1"},F={class:"list-group"},M=["onClick"],S={class:"flex justify-between"},U={class:"mb-1 font-size-5"},j={class:"font-size-4 mt-1"},z={class:"mb-1 text-left"},N={class:"grid-col-span-3"},Q={class:"relative overflow-x-auto shadow-md sm:rounded-lg"},E={class:"w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400"},L={scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},O={class:"px-6 py-4"},W={class:"px-6 py-4"},X=["onUpdate:modelValue","onChange"],A=["value"],G={class:"px-6 py-4"},H={class:"px-6 py-4"},J={class:"px-6 py-4"},K=["onClick"],P={class:"text-end my-3"},R={class:"font-bold text-5"},Y={class:"font-bold text-5"},Z={class:"text-end"},I={class:"flex justify-center"},tt={class:"card border border-solid border-gray-20 rounded-2 mt-10 w-150"},st={class:"card-body"},et={class:"overflow-x-auto"},ot={class:"table w-full"},dt={class:"py-2 border-only-b"},lt={class:"text-end py-2 border-only-b"},rt={class:"text-end py-2 border-only-b"},nt={class:"text-end"},at={class:"text-end"},ct={class:"text-5 font-bold"},it={class:"text-5 font-bold"},bt={__name:"Week3View",setup(pt){const m=p([{id:1,name:"珍珠奶茶",description:"香濃奶茶搭配QQ珍珠",price:50},{id:2,name:"冬瓜檸檬",description:"清新冬瓜配上新鮮檸檬",price:45},{id:3,name:"翡翠檸檬",description:"綠茶與檸檬的完美結合",price:55},{id:4,name:"四季春茶",description:"香醇四季春茶，回甘無比",price:45},{id:5,name:"阿薩姆奶茶",description:"阿薩姆紅茶搭配香醇鮮奶",price:50},{id:6,name:"檸檬冰茶",description:"檸檬與冰茶的清新組合",price:45},{id:7,name:"芒果綠茶",description:"芒果與綠茶的獨特風味",price:55},{id:8,name:"抹茶拿鐵",description:"抹茶與鮮奶的絕配",price:60}]),l=p([]),c=p(""),i=p({}),y=C(()=>l.value.reduce((d,s)=>d+s.price*s.qty,0)),g=d=>{l.value.push({...d,id:new Date().getTime(),qty:1})},f=d=>{l.value=l.value.map(s=>(s.id===d.id&&(s.qty=parseInt(d.qty)),s))},w=d=>{l.value=l.value.filter(s=>s.id!==d)},k=()=>{i.value={id:new Date().getTime(),cart:l.value,description:c.value,sum:y.value},l.value=[],c.value=""},h=d=>d.price*d.qty;return(d,s)=>(a(),n("div",V,[t("div",T,[t("div",$,[t("div",B,[t("div",F,[(a(!0),n(u,null,_(m.value,e=>(a(),n("button",{type:"button",class:"cursor-pointer bg-white border-gray-20 rounded-md hover:bg-gray-10 w-full mb-1",key:e.id,onClick:x(r=>g(e),["prevent"])},[t("div",S,[t("h5",U,o(e.name),1),t("small",j,"$"+o(e.price),1)]),t("p",z,o(e.description),1)],8,M))),128))])]),t("div",N,[t("div",Q,[t("table",E,[s[1]||(s[1]=t("thead",{class:"text-xs text-gray-700 uppercase bg-gray-20 dark:bg-gray-700 dark:text-gray-400"},[t("tr",null,[t("th",{scope:"col",class:"px-6 py-3"},"品項"),t("th",{scope:"col",class:"px-6 py-3"},"描述"),t("th",{scope:"col",class:"px-6 py-3"},"數量"),t("th",{scope:"col",class:"px-6 py-3"},"單價"),t("th",{scope:"col",class:"px-6 py-3"},"小計"),t("th",{scope:"col",class:"px-6 py-3"},"操作")])],-1)),t("tbody",null,[(a(!0),n(u,null,_(l.value,e=>(a(),n("tr",{class:"bg-white border-b dark:bg-gray-800 dark:border-gray-700 border-gray-200 hover:bg-gray-10 dark:hover:bg-gray-600",key:e.id},[t("th",L,o(e.name),1),t("td",O,o(e.description),1),t("td",W,[v(t("select",{class:"form-select","onUpdate:modelValue":r=>e.qty=r,onChange:r=>f(e)},[(a(),n(u,null,_(10,r=>t("option",{key:r,value:r},o(r),9,A)),64))],40,X),[[D,e.qty]])]),t("td",G,o(e.price),1),t("td",H,o(h(e)),1),t("td",J,[t("button",{type:"button",class:"btn btn-del mx-1",onClick:r=>w(e.id)}," X ",8,K)])]))),128))])])]),t("div",P,[t("h5",R,[s[2]||(s[2]=b(" 總計: ",-1)),t("span",Y,o(y.value),1)])]),v(t("textarea",{class:"form-control mb-3 w-full",rows:"3",placeholder:"備註","onUpdate:modelValue":s[0]||(s[0]=e=>c.value=e)},null,512),[[q,c.value]]),t("div",Z,[t("button",{class:"btn btn-primary",onClick:x(k,["prevent"])},"送出")])])]),s[7]||(s[7]=t("hr",null,null,-1)),t("div",I,[t("div",tt,[t("div",st,[s[6]||(s[6]=t("h2",{class:"card-title"},"訂單",-1)),t("div",et,[t("table",ot,[s[3]||(s[3]=t("thead",null,[t("tr",null,[t("th",{class:"text-left font-medium border-only-b pb-2"},"品項"),t("th",{class:"text-end font-medium border-only-b pb-2"},"數量"),t("th",{class:"text-end font-medium border-only-b pb-2"},"小計")])],-1)),t("tbody",null,[(a(!0),n(u,null,_(i.value.cart,e=>(a(),n("tr",{key:e.id},[t("td",dt,o(e.name),1),t("td",lt,o(e.qty),1),t("td",rt,o(h(e)),1)]))),128))])])]),t("div",nt,[s[4]||(s[4]=b(" 備註: ",-1)),t("span",null,o(i.value.description),1)]),t("div",at,[t("h5",ct,[s[5]||(s[5]=b(" 總計: ",-1)),t("span",it,"$"+o(i.value.sum),1)])])])])])])]))}};export{bt as default};
